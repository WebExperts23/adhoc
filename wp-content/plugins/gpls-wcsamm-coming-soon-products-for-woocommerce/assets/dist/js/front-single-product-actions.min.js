(()=>{function n(n,t){(null==t||t>n.length)&&(t=n.length);for(var i=0,o=new Array(t);i<t;i++)o[i]=n[i];return o}!function(t){"use strict";var i=window.gpls_wcsamm_coming_soon_for_woocommerce_localize_data,o={200:"flipdown-size-xxs",400:"flipdown-size-xs",650:"flipdown-size-sm"};function e(n,o){var e=n.data.variationForm;o[i.prefix+"-coming-soon-variation"]&&(e.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),function(n,o){t.ajax({method:"POST",url:i.ajaxUrl,data:{action:i.variationComingSoonAction,nonce:i.nonce,variation:o},success:function(t){var i;null!=t&&null!==(i=t.data)&&void 0!==i&&i.coming_soon_section&&(n.find(".single_variation").append(t.data.coming_soon_section),a(o.variation_id))},error:function(n){},complete:function(){n.unblock()}})}(e,o))}function a(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null!==n)var o=t("."+i.classes_prefix+"-flipper-"+n).not(".started");else o=t("."+i.classes_prefix+"-flipper").not(".started");o.length&&o.each((function(){var n=t(this);n.addClass(r(n.width()));var o=n.data("datetime"),e=n.data("auto_enable"),a={headings:Object.values(i.labels.flipDownHeading)};new FlipDown(o,n,a).start().ifEnded((function(){n.slideUp(400,(function(){n.remove()})),!0===e&&window.location.reload()})),n.addClass("started")}))}function r(t){var i,e=Object.keys(o).filter((function(n){return n>t}));if(e.length){var a=Math.min.apply(Math,function(t){if(Array.isArray(t))return n(t)}(i=e.filter((function(n){return parseInt(n)})))||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(i)||function(t,i){if(t){if("string"==typeof t)return n(t,i);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(t,i):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return o[a.toString()]}return""}t((function(){a(),t(document).on("click","."+i.classes_prefix+"-coming-soon-subscribe-form ."+i.classes_prefix+"-subscribe-submit-btn",(function(n){n.preventDefault();var o=t(this).closest("."+i.classes_prefix+"-coming-soon-subscribe-form"),e=o.find("."+i.classes_prefix+"-coming-soon-subscribe-email-field"),a=e.get(0),r=e.val(),s=o.data("product_id");if(!a.checkValidity()||0===r.length)return a.setCustomValidity(i.labels.invalidEmail),void a.reportValidity();t.ajax({method:"POST",url:i.ajaxUrl,data:{action:i.subSubmitAction,nonce:i.nonce,email:r,productID:s},success:function(n){},error:function(n){}}),o.slideUp(400,(function(){o.remove(),t("."+i.classes_prefix+"-post-submit-text").show()}))})),t(document).on("input change","."+i.classes_prefix+"-coming-soon-subscribe-email-field",(function(n){t(this).get(0).setCustomValidity("")})),t(".variations_form").each((function(){var n=t(this);n.on("show_variation",{variationForm:n},e)}))})),t(document.body).on(i.related_plugins.quick_view_and_buy_now+"-quick-view-popup",(function(n,t){a()})),t(window).on("resize",(function(){t("."+i.classes_prefix+"-flipper").each((function(n){var i=t(this);Object.values(o).forEach((function(n){i.removeClass(n)})),i.addClass(r(i.width()))}))}))}(jQuery)})();